/*
 * jQuery FlexSlider v1.8
 * http://flex.madebymufffin.com
 *
 * Copyright 2011, Tyler Smith
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Contrib: Darin Richardson
 */

(function($){$.flexslider=function(el,options){var slider=el;slider.init=function(){slider.vars=$.extend({},$.flexslider.defaults,options);slider.data('flexslider',true);slider.container=$('.slides',slider);slider.slides=$('.slides > li',slider);slider.count=slider.slides.length;slider.animating=false;slider.currentSlide=slider.vars.slideToStart;slider.animatingTo=slider.currentSlide;slider.atEnd=(slider.currentSlide==0)?true:false;slider.eventType=('ontouchstart'in document.documentElement)?'touchstart':'click';slider.cloneCount=0;slider.cloneOffset=0;slider.manualPause=false;slider.vertical=(slider.vars.slideDirection=="vertical");slider.prop=(slider.vertical)?"top":"marginLeft";slider.args={};slider.transitions="webkitTransition"in document.body.style;if(slider.transitions)slider.prop="-webkit-transform";if(slider.vars.controlsContainer!=""){slider.controlsContainer=$(slider.vars.controlsContainer).eq($('.slides').index(slider.container));slider.containerExists=slider.controlsContainer.length>0;}
if(slider.vars.manualControls!=""){slider.manualControls=$(slider.vars.manualControls,((slider.containerExists)?slider.controlsContainer:slider));slider.manualExists=slider.manualControls.length>0;}
if(slider.vars.randomize){slider.slides.sort(function(){return(Math.round(Math.random())-0.5);});slider.container.empty().append(slider.slides);}
if(slider.vars.animation.toLowerCase()=="slide"){if(slider.transitions){slider.setTransition(0);}
slider.css({"overflow":"hidden"});if(slider.vars.animationLoop){slider.cloneCount=2;slider.cloneOffset=1;slider.container.append(slider.slides.filter(':first').clone().addClass('clone')).prepend(slider.slides.filter(':last').clone().addClass('clone'));}
slider.newSlides=$('.slides > li',slider);var sliderOffset=(-1*(slider.currentSlide+slider.cloneOffset));if(slider.vertical){slider.newSlides.css({"display":"block","width":"100%","float":"left"});slider.container.height((slider.count+slider.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){slider.css({"position":"relative"}).height(slider.slides.filter(':first').height());slider.args[slider.prop]=(slider.transitions)?"translate3d(0,"+sliderOffset*slider.height()+"px,0)":sliderOffset*slider.height()+"px";slider.container.css(slider.args);},100);}else{slider.args[slider.prop]=(slider.transitions)?"translate3d("+sliderOffset*slider.width()+"px,0,0)":sliderOffset*slider.width()+"px";slider.container.width((slider.count+slider.cloneCount)*200+"%").css(slider.args);setTimeout(function(){slider.newSlides.width(slider.width()).css({"float":"left","display":"block"});},100);}}else{slider.transitions=false;slider.slides.css({"width":"100%","float":"left","marginRight":"-100%"}).eq(slider.currentSlide).fadeIn(slider.vars.animationDuration);}
if(slider.vars.controlNav){if(slider.manualExists){slider.controlNav=slider.manualControls;}else{var controlNavScaffold=$('<ol class="flex-control-nav"></ol>');var j=1;for(var i=0;i<slider.count;i++){controlNavScaffold.append('<li><a>'+j+'</a></li>');j++;}
if(slider.containerExists){$(slider.controlsContainer).append(controlNavScaffold);slider.controlNav=$('.flex-control-nav li a',slider.controlsContainer);}else{slider.append(controlNavScaffold);slider.controlNav=$('.flex-control-nav li a',slider);}}
slider.controlNav.eq(slider.currentSlide).addClass('active');slider.controlNav.on(slider.eventType,function(event){event.preventDefault();try{if(!$(this).hasClass('active')){(slider.controlNav.index($(this))>slider.currentSlide)?slider.direction="next":slider.direction="prev";slider.flexAnimate(slider.controlNav.index($(this)),slider.vars.pauseOnAction);}}catch(e){}});}
if(slider.vars.directionNav){var directionNavScaffold=$('<ul class="flex-direction-nav"><li class="fxEmbossBtn prev_btn"></span> <a class="btn_icon prev" href="#!"></a> <span class="btn_hover"></span> </li><li class="fxEmbossBtn next_btn"> <a class="btn_icon next" href="#!"></a> <span class="btn_hover"></span> </li></ul>');if(slider.containerExists){$(slider.controlsContainer).append(directionNavScaffold);slider.directionNav=$('.flex-direction-nav li a',slider.controlsContainer);}else{slider.append(directionNavScaffold);slider.directionNav=$('.flex-direction-nav li a',slider);}
if(!slider.vars.animationLoop){if(slider.currentSlide==0){slider.directionNav.filter('.prev').addClass('disabled');}else if(slider.currentSlide==slider.count-1){slider.directionNav.filter('.next').addClass('disabled');}}
slider.directionNav.on(slider.eventType,function(event){try{event.preventDefault();var target=($(this).hasClass('next'))?slider.getTarget('next'):slider.getTarget('prev');if(slider.canAdvance(target)){slider.flexAnimate(target,slider.vars.pauseOnAction);}}catch(e){}});}
if(slider.vars.keyboardNav&&$('ul.slides').length==1){function keyboardMove(event){if(slider.animating){return;}else if(event.keyCode!=39&&event.keyCode!=37){return;}else{if(event.keyCode==39){var target=slider.getTarget('next');}else if(event.keyCode==37){var target=slider.getTarget('prev');}
if(slider.canAdvance(target)){slider.flexAnimate(target,slider.vars.pauseOnAction);}}}
$(document).on('keyup',keyboardMove);}
if(slider.vars.mousewheel){slider.mousewheelEvent=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";slider.on(slider.mousewheelEvent,function(e){e.preventDefault();e=e?e:window.event;var wheelData=e.detail?e.detail*-1:e.wheelDelta / 40,target=(wheelData<0)?slider.getTarget('next'):slider.getTarget('prev');if(slider.canAdvance(target)){slider.flexAnimate(target,slider.vars.pauseOnAction);}});}
if(slider.vars.slideshow){if(slider.vars.pauseOnHover&&slider.vars.slideshow){slider.on({mouseenter:function(){slider.pause();},mouseleave:function(){if(!slider.manualPause){slider.resume();}}});}
slider.animatedSlides=setInterval(slider.animateSlides,slider.vars.slideshowSpeed);}
if(slider.vars.pausePlay){var pausePlayScaffold=$('<div class="flex-pauseplay"><span></span></div>');if(slider.containerExists){slider.controlsContainer.append(pausePlayScaffold);slider.pausePlay=$('.flex-pauseplay span',slider.controlsContainer);}else{slider.append(pausePlayScaffold);slider.pausePlay=$('.flex-pauseplay span',slider);}
var pausePlayState=(slider.vars.slideshow)?'pause':'play';slider.pausePlay.addClass(pausePlayState).text((pausePlayState=='pause')?slider.vars.pauseText:slider.vars.playText);slider.pausePlay.on(slider.eventType,function(event){event.preventDefault();if($(this).hasClass('pause')){slider.pause();slider.manualPause=true;}else{slider.resume();slider.manualPause=false;}});}
try{$(function(){slider.container.swipe({swipe:function(event,direction,distance,duration,fingerCount){if(slider.animatingTo==slider.currentSlide){if(direction==="left"){slider.flexAnimate(slider.getTarget('next'),slider.vars.pauseOnAction);}
if(direction==="right"){slider.flexAnimate(slider.getTarget('prev'),slider.vars.pauseOnAction);}}},allowPageScroll:"vertical",threshold:swipeThreshold});});}catch(e){}
var self=this;var intter;$(window).resize(function(){clearInterval(intter);intter=setInterval(function(){clearInterval(intter);try{slider.windowRez();}catch(e){}clearInterval(intter);},500);});slider.destroy=function(){slider.pause();if(slider.controlNav&&slider.vars.manualControls=="")slider.controlNav.closest('.flex-control-nav').remove();if(slider.directionNav)slider.directionNav.closest('.flex-direction-nav').remove();if(slider.vars.pausePlay)slider.pausePlay.closest('.flex-pauseplay').remove();if(slider.vars.keyboardNav&&$('ul.slides').length==1)$(document).off('keyup',keyboardMove);if(slider.vars.mousewheel)slider.off(slider.mousewheelEvent);if(slider.transitions)slider.each(function(){this.removeEventListener('touchstart',onTouchStart,false);});if(slider.vars.animation=="slide"&&slider.vars.animationLoop)slider.newSlides.filter('.clone').remove();if(slider.vertical)slider.height("auto");slider.slides.hide();slider.removeData('flexslider');}
slider.vars.start(slider);}
slider.flexAnimate=function(target,pause){try{if(!slider.animating){slider.animating=true;slider.animatingTo=target;slider.vars.before(slider);if(pause){slider.pause();}
if(slider.vars.controlNav){slider.controlNav.removeClass('active').eq(target).addClass('active');}
slider.atEnd=(target==0||target==slider.count-1)?true:false;if(!slider.vars.animationLoop&&slider.vars.directionNav){if(target==0){slider.directionNav.removeClass('disabled').filter('.prev').addClass('disabled');}else if(target==slider.count-1){slider.directionNav.removeClass('disabled').filter('.next').addClass('disabled');}else{slider.directionNav.removeClass('disabled');}}
if(!slider.vars.animationLoop&&target==slider.count-1){slider.pause();slider.vars.end(slider);}
if(slider.vars.animation.toLowerCase()=="slide"){var dimension=(slider.vertical)?slider.slides.filter(':first').height():slider.slides.filter(':first').width();if(slider.currentSlide==0&&target==slider.count-1&&slider.vars.animationLoop&&slider.direction!="next"){slider.slideString="0px";}else if(slider.currentSlide==slider.count-1&&target==0&&slider.vars.animationLoop&&slider.direction!="prev"){slider.slideString=(-1*(slider.count+1))*dimension+"px";}else{slider.slideString=(-1*(target+slider.cloneOffset))*dimension+"px";}
slider.args[slider.prop]=slider.slideString;if(slider.transitions){slider.setTransition(slider.vars.animationDuration);slider.args[slider.prop]=(slider.vertical)?"translate3d(0,"+slider.slideString+",0)":"translate3d("+slider.slideString+",0,0)";slider.container.css(slider.args).one("webkitTransitionEnd transitionend",function(){slider.wrapup(dimension);});}else{slider.container.animate(slider.args,slider.vars.animationDuration,function(){slider.wrapup(dimension);});}}else{if(target<slider.currentSlide){slider.slides.eq(slider.currentSlide).fadeOut(slider.vars.animationDuration);}
slider.slides.eq(target).fadeIn(slider.vars.animationDuration,function(){slider.slides.eq(slider.currentSlide).fadeOut(slider.vars.animationDuration);slider.wrapup();});}}}catch(e){}}
slider.wrapup=function(dimension){if(slider.vars.animation=="slide"){if(slider.currentSlide==0&&slider.animatingTo==slider.count-1&&slider.vars.animationLoop){slider.args[slider.prop]=(-1*slider.count)*dimension+"px";if(slider.transitions){slider.setTransition(0);slider.args[slider.prop]=(slider.vertical)?"translate3d(0,"+slider.args[slider.prop]+",0)":"translate3d("+slider.args[slider.prop]+",0,0)";}
slider.container.css(slider.args);}else if(slider.currentSlide==slider.count-1&&slider.animatingTo==0&&slider.vars.animationLoop){slider.args[slider.prop]=-1*dimension+"px";if(slider.transitions){slider.setTransition(0);slider.args[slider.prop]=(slider.vertical)?"translate3d(0,"+slider.args[slider.prop]+",0)":"translate3d("+slider.args[slider.prop]+",0,0)";}
slider.container.css(slider.args);}}
slider.animating=false;slider.currentSlide=slider.animatingTo;slider.vars.after(slider);}
slider.animateSlides=function(){if(!slider.animating){slider.flexAnimate(slider.getTarget("next"));}}
slider.pause=function(){clearInterval(slider.animatedSlides);if(slider.vars.pausePlay){slider.pausePlay.removeClass('pause').addClass('play').text(slider.vars.playText);}}
slider.resume=function(){clearInterval(slider.animatedSlides);slider.animatedSlides=setInterval(slider.animateSlides,slider.vars.slideshowSpeed);if(slider.vars.pausePlay){slider.pausePlay.removeClass('play').addClass('pause').text(slider.vars.pauseText);}}
slider.windowRez=function(){try{if(slider.vars.animation.toLowerCase()==="slide"){if(!slider.animating){if(slider.vertical){slider.height(slider.slides.filter(':first').height());slider.args[slider.prop]=(-1*(slider.currentSlide+slider.cloneOffset))*slider.slides.filter(':first').height()+"px";if(slider.transitions){slider.setTransition(0);slider.args[slider.prop]=(slider.vertical)?"translate3d(0,"+slider.args[slider.prop]+",0)":"translate3d("+slider.args[slider.prop]+",0,0)";}
slider.container.css(slider.args);}else{slider.newSlides.width(slider.width());slider.args[slider.prop]=(-1*(slider.currentSlide+slider.cloneOffset))*slider.width()+"px";if(slider.transitions){slider.setTransition(0);slider.args[slider.prop]=(slider.vertical)?"translate3d(0,"+slider.args[slider.prop]+",0)":"translate3d("+slider.args[slider.prop]+",0,0)";}
slider.container.css(slider.args);}}}}catch(e){}}
slider.canAdvance=function(target){if(!slider.vars.animationLoop&&slider.atEnd){if(slider.currentSlide==0&&target==slider.count-1&&slider.direction!="next"){return false;}else if(slider.currentSlide==slider.count-1&&target==0&&slider.direction=="next"){return false;}else{return true;}}else{return true;}}
slider.getTarget=function(dir){slider.direction=dir;if(dir=="next"){return(slider.currentSlide==slider.count-1)?0:slider.currentSlide+1;}else{return(slider.currentSlide==0)?slider.count-1:slider.currentSlide-1;}}
slider.setTransition=function(dur){slider.container.css({'-webkit-transition-duration':(dur/1000)+"s"});}
slider.init();}
$.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:true,slideshowSpeed:3000,animationDuration:600,directionNav:true,controlNav:true,keyboardNav:true,mousewheel:false,prevText:"Previous",nextText:"Next",pausePlay:false,pauseText:'Pause',playText:'Play',randomize:false,slideToStart:0,animationLoop:true,pauseOnAction:true,pauseOnHover:true,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}}
$.fn.flexslider=function(options){return this.each(function(){if($(this).find('.slides li').length==1){$(this).find('.slides li').fadeIn(400);}
else if($(this).data('flexslider')!=true){new $.flexslider($(this),options);}});}})(jQuery);